import fs from "fs";
import pdf from "pdf-parse";

export async function extractTextFromPDF(filePath: string): Promise<string> {
  const buffer = fs.readFileSync(filePath);
  const data = await pdf(buffer);

  if (!data.text || data.text.trim().length === 0) {
    throw new Error("PDF text extraction returned empty text");
  }

  return data.text;
}